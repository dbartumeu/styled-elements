<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Styled Elements</title>
</head>
<body>
<div id="app">
  <div se.padding="10px">some text</div>
  <div id="text1" se.color="red">some text1</div>
  <div id="text2" se.color="red">some text2</div>
  <div se.padding="10px">some text3</div>
</div>

<!-- plugin initialization -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var styledElements = new StyledElements();

    function append(){
      var c = document.createDocumentFragment();
      for (var i=0; i < 100000; i++) {
        var newEl = document.createElement('DIV');
        newEl.innerHTML = 'Dynamically added ' + (i + 1);
        newEl.setAttribute('se.padding', '10px');
        newEl.setAttribute('se.color', getRandomColor());
        c.appendChild(newEl);
      }

      document.getElementById('app').appendChild(c);
    }

    setTimeout(() => {
      document.getElementById('text1').setAttribute('se.padding', '12px');
      document.getElementById('text1').setAttribute('se.color', 'yellow');
    }, 2000);

    setTimeout(() => {
      document.getElementById('text1').setAttribute('se.padding', '10px');
      document.getElementById('text1').setAttribute('se.color', 'red');
      document.getElementById('text2').setAttribute('se.padding', '10px');
      document.getElementById('text2').setAttribute('se.color', 'red');

      var newEl = document.createElement('DIV');
      newEl.innerHTML = 'Dynamically added';
      newEl.setAttribute('se.padding', '15px');
      newEl.setAttribute('se.color', 'green');
      document.getElementById('app').appendChild(newEl);

      // console.log("Process start" + performance.now());
      // var t0 = performance.now();
      // append();
      // var t1 = performance.now();
      // console.log("Insert 100000 nodes took " + (t1 - t0) + " milliseconds.")

    }, 5000);

    function getRandomColor() {
      var letters = '0123456789ABCDEF';
      var color = '#';
      for (var i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
    }




    // for (var i = 0; i < 100000; i++) {
    //
    //   var newEl = document.createElement('DIV');
    //   newEl.innerHTML = 'Dynamically added ' + (i + 1);
    //   newEl.setAttribute('se.padding', '10px');
    //   newEl.setAttribute('se.color', getRandomColor());
    //   document.getElementById('app').appendChild(newEl);
    // }

    // initialize
    styledElements.init();
  });
</script>
</body>
</html>
